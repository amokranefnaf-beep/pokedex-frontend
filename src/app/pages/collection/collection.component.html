<section class="collection">
  <div class="collection__container">
    <!-- Section Header -->
    <div class="collection__header">
      <div>
        <h2 class="section-title">MA COLLECTION</h2>
        <p class="collection__subtitle">
          Tu possÃ¨des <span class="count-highlight">{{ totalElements }}</span> cartes sur <span class="count-total">1,025</span>
        </p>
      </div>

      <!-- Filters -->
      <div class="collection__filters">
        <button class="filter-btn filter-btn--active">Tous</button>
        <button class="filter-btn">â­ Favoris</button>
        <button class="filter-btn">ğŸ”¥ Feu</button>
        <button class="filter-btn">ğŸ’§ Eau</button>
        <button class="filter-btn">ğŸŒ¿ Plante</button>
        <button class="filter-btn">âš¡ Ã‰lectrik</button>
      </div>
    </div>

    <!-- Loading -->
    <div *ngIf="loading" class="loading">
      <div class="loading__spinner"></div>
      <p>â³ Chargement de ta collection...</p>
    </div>

    <!-- Error -->
    <div *ngIf="error" class="error">
      <p>âŒ {{ error }}</p>
      <button (click)="loadCards()" class="btn-retry">RÃ©essayer</button>
    </div>

    <!-- Cards Grid -->
    <div *ngIf="!loading && !error" class="cards-grid">
      <app-card
        *ngFor="let card of cards"
        [card]="card"
        (favoriteToggle)="onFavoriteToggle($event)"
        (cardDelete)="onCardDelete($event)">
      </app-card>
    </div>

    <!-- Empty state -->
    <div *ngIf="!loading && cards.length === 0" class="empty">
      <div class="empty__content">
        <span class="empty__icon">ğŸ´</span>
        <h3>Ta collection est vide !</h3>
        <p>Ajoute des PokÃ©mon depuis la page Recherche.</p>
        <a href="/search" class="btn-primary">ğŸ” Rechercher des PokÃ©mon</a>
      </div>
    </div>

    <!-- Pagination -->
    <div *ngIf="totalPages > 1" class="pagination">
      <button class="pagination__btn" [disabled]="currentPage === 0" (click)="goToPage(currentPage - 1)">
        <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
        </svg>
      </button>
      <button class="pagination__number pagination__number--active">{{ currentPage + 1 }}</button>
      <button class="pagination__number" *ngIf="totalPages > 1">2</button>
      <button class="pagination__number" *ngIf="totalPages > 2">3</button>
      <span *ngIf="totalPages > 4">...</span>
      <button class="pagination__number" *ngIf="totalPages > 3">{{ totalPages }}</button>
      <button class="pagination__btn" [disabled]="currentPage >= totalPages - 1" (click)="goToPage(currentPage + 1)">
        <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
        </svg>
      </button>
    </div>
  </div>
</section>
